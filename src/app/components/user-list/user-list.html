<div class="user-list-container">
  <!-- Search Result Header -->
  <div *ngIf="isSearchMode" class="search-result-header">
    <h2>Search Result for User ID {{searchedUser?.id}}</h2>
    <button mat-raised-button color="primary" (click)="clearSearch()">
      <mat-icon>arrow_back</mat-icon>
      Back to All Users
    </button>
  </div>

  <div class="users-grid">
    <mat-card 
      *ngFor="let user of users" 
      class="user-card"
      [class.search-result-card]="isSearchMode"
      (click)="onUserClick(user)">
      <mat-card-header>
        <div mat-card-avatar class="user-avatar">
          <img [src]="user.avatar" [alt]="user.first_name + ' ' + user.last_name">
        </div>
        <mat-card-title>{{user.first_name}} {{user.last_name}}</mat-card-title>
        <mat-card-subtitle>ID: {{user.id}}</mat-card-subtitle>
      </mat-card-header>
      
      <mat-card-content>
        <p class="user-email">{{user.email}}</p>
      </mat-card-content>
      
      <mat-card-actions>
        <button mat-button color="primary">
          <mat-icon>visibility</mat-icon>
          View Details
        </button>
      </mat-card-actions>
    </mat-card>
  </div>

  <!-- Only show pagination when not in search mode -->
  <div class="pagination-container" *ngIf="!isSearchMode">
    <mat-paginator
      [length]="totalUsers"
      [pageSize]="usersPerPage"
      [pageIndex]="currentPage - 1"
      [pageSizeOptions]="[6]"
      (page)="onPageChange($event)"
      showFirstLastButtons>
    </mat-paginator>
  </div>
</div>
